<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aim Genetics Lab v3.0 ‚Äî Multilingual</title>
    <style>
        :root {
            --bg: #06080a;
            --surface: #0e1117;
            --accent: #00f2ff;
            --accent-glow: rgba(0, 242, 255, 0.4);
            --text: #e2e8f0;
            --green: #00ff88;
            --red: #ff4655;
            --panel: #161b22;
        }

        body, html {
            margin: 0; padding: 0;
            background: var(--bg);
            color: var(--text);
            font-family: 'Segoe UI', system-ui, sans-serif;
            height: 100vh; overflow: hidden;
            display: flex; justify-content: center; align-items: center;
        }

        .container {
            width: 95vw; max-width: 1000px; height: 90vh;
            background: var(--surface);
            border: 1px solid #30363d;
            border-radius: 12px;
            display: flex; flex-direction: column;
            box-shadow: 0 20px 60px rgba(0,0,0,0.7);
        }

        .header {
            padding: 15px 30px; border-bottom: 1px solid #30363d;
            display: flex; justify-content: space-between; align-items: center;
            background: #0d1117;
        }

        .lang-select {
            background: #1c2128; color: var(--text);
            border: 1px solid #30363d; padding: 5px 10px;
            border-radius: 4px; cursor: pointer; outline: none;
        }

        .progress-container { flex-grow: 1; height: 2px; background: #30363d; margin: 0 20px; position: relative; }
        #progress-bar { position: absolute; height: 100%; background: var(--accent); width: 0%; transition: 0.3s; box-shadow: 0 0 10px var(--accent); }

        .screen { display: none; flex-direction: column; align-items: center; justify-content: center; flex-grow: 1; padding: 40px; animation: fadeIn 0.4s ease; }
        .screen.active { display: flex; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .test-zone {
            width: 100%; height: 400px; background: #010409;
            border-radius: 8px; border: 1px solid #30363d;
            position: relative; cursor: crosshair;
            display: flex; align-items: center; justify-content: center; overflow: hidden;
        }

        .symbol { font-size: 5rem; font-weight: bold; user-select: none; pointer-events: none; }
        
        @keyframes pulseBeat {
            0% { transform: scale(0.8); opacity: 0.3; }
            50% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(0.8); opacity: 0.3; }
        }
        .pulse-active { animation: pulseBeat 0.6s infinite ease-in-out; }

        .results-summary { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; width: 100%; }
        .res-card { background: var(--panel); padding: 15px; border-radius: 8px; border-left: 4px solid var(--accent); }
        .res-card h4 { margin: 0; font-size: 0.7rem; color: #8b949e; text-transform: uppercase; }
        .res-card p { margin: 5px 0 0; font-size: 1.3rem; font-weight: bold; color: var(--accent); }

        .report-box {
            margin-top: 20px; text-align: left; background: #0d1117;
            padding: 20px; border-radius: 8px; border: 1px solid #30363d;
            overflow-y: auto; flex-grow: 1; font-size: 0.9rem; line-height: 1.5;
        }

        /* –°—Ç–∏–ª—å –¥–ª—è –±–ª–æ–∫–∞ —Å—Å—ã–ª–æ–∫ */
        .social-links {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }
        .social-links a img {
            border-radius: 4px;
            transition: transform 0.2s;
        }
        .social-links a:hover img {
            transform: scale(1.05);
        }

        button {
            background: var(--accent); color: #000; border: none;
            padding: 14px 35px; border-radius: 4px; font-weight: bold;
            cursor: pointer; transition: 0.2s; text-transform: uppercase;
        }
        button:hover { filter: brightness(1.2); transform: translateY(-2px); }

        .peripheral-target {
            width: 40px; height: 40px; background: var(--accent);
            border-radius: 50%; position: absolute; cursor: pointer;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <div style="font-weight: 800;">GENETIC <span style="color:var(--accent)">LAB</span></div>
        <div class="progress-container"><div id="progress-bar"></div></div>
        <select class="lang-select" onchange="changeLang(this.value)">
            <option value="ru">üá∑üá∫ RU</option>
            <option value="uk">üá∫üá¶ UA</option>
            <option value="en">üá∫üá∏ EN</option>
            <option value="tr">üáπüá∑ TR</option>
        </select>
    </div>

    <div id="sc-start" class="screen active">
        <h1 data-i18n="main_title">–ü–û–õ–ù–´–ô –ì–ï–ù–ï–¢–ò–ß–ï–°–ö–ò–ô –ê–ù–ê–õ–ò–ó</h1>
        <p data-i18n="main_desc" style="color: #8b949e; max-width: 500px;">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ç–æ—á–Ω–æ–µ –∏–∑–º–µ—Ä–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –≤–∞—à–µ–π –Ω–µ—Ä–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã. –ë–µ–∑ –∏–≥—Ä–æ–≤–æ–≥–æ –æ–ø—ã—Ç–∞ ‚Äî —Ç–æ–ª—å–∫–æ –±–∏–æ–ª–æ–≥–∏—è.</p>
        <button onclick="nextStep('reflex')" data-i18n="start_btn">–ù–ê–ß–ê–¢–¨ –¢–ï–°–¢</button>
        
        <div class="social-links">
                    <a href="https://github.com/Adiru3" target="_blank"><img src="https://img.shields.io/badge/GitHub-Adiru3-181717?style=for-the-badge&logo=github" alt="GitHub"></a>
                    <a href="https://www.youtube.com/@adiruaim" target="_blank"><img src="https://img.shields.io/badge/YouTube-@adiruaim-FF0000?style=for-the-badge&logo=youtube" alt="YouTube"></a>
                    <a href="https://www.tiktok.com/@adiruhs" target="_blank"><img src="https://img.shields.io/badge/TikTok-@adiruhs-000000?style=for-the-badge&logo=tiktok" alt="TikTok"></a>
                    <a href="https://donatello.to/Adiru3" target="_blank"><img src="https://img.shields.io/badge/Support-Donatello-orange?style=for-the-badge" alt="Donate"></a>
                </div>
            </div>

    <div id="sc-reflex" class="screen">
        <h2 data-i18n="f1_title">–§–ê–ó–ê 1: –ß–∏—Å—Ç–∞—è —Ä–µ–∞–∫—Ü–∏—è</h2>
        <p data-i18n="f1_desc">–ö–ª–∏–∫–∞–π –õ–ö–ú –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ —Å–∏–º–≤–æ–ª–∞.</p>
        <div class="test-zone" id="zone-reflex"><div id="reflex-target" class="symbol"></div></div>
    </div>

    <div id="sc-cog" class="screen">
        <h2 data-i18n="f2_title">–§–ê–ó–ê 2: –ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è —Å–µ–ª–µ–∫—Ü–∏—è</h2>
        <p data-i18n="f2_desc">–ö–ª–∏–∫–∞–π —Ç–æ–ª—å–∫–æ –Ω–∞ –ó–ï–õ–ï–ù–´–ï –æ–±—ä–µ–∫—Ç—ã. –ö—Ä–∞—Å–Ω—ã–µ ‚Äî –∏–≥–Ω–æ—Ä–∏—Ä—É–π.</p>
        <div class="test-zone" id="zone-cog"><div id="cog-target" class="symbol"></div></div>
    </div>

    <div id="sc-jitter" class="screen">
        <h2 data-i18n="f3_title">–§–ê–ó–ê 3: –°–µ–Ω—Å–æ–º–æ—Ç–æ—Ä–Ω—ã–π —Ä–∏—Ç–º</h2>
        <p data-i18n="f3_desc">–ö–ª–∏–∫–∞–π —Ç–æ—á–Ω–æ –≤ –º–æ–º–µ–Ω—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∫—Ä—É–≥–∞ (–≤ —Ç–∞–∫—Ç).</p>
        <div class="test-zone" id="zone-jitter">
            <div id="pulsar" style="width:120px; height:120px; border:4px solid var(--accent); border-radius:50%;"></div>
            <div style="position:absolute; bottom:20px;" id="jitter-count" data-i18n="calibration">–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞: 10 –∫–ª–∏–∫–æ–≤</div>
        </div>
    </div>

    <div id="sc-peripheral" class="screen">
        <h2 data-i18n="f4_title">–§–ê–ó–ê 4: –ü–µ—Ä–∏—Ñ–µ—Ä–∏–π–Ω–æ–µ –∑—Ä–µ–Ω–∏–µ</h2>
        <p data-i18n="f4_desc">–°–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ü–µ–Ω—Ç—Ä –∏ –∫–ª–∏–∫–∞–π—Ç–µ –ø–æ —Ü–µ–ª—è–º –ø–æ –±–æ–∫–∞–º.</p>
        <div class="test-zone" id="zone-peri">
            <div style="font-size: 2rem; color: #333;">+</div>
            <div id="peri-target-container"></div>
        </div>
    </div>

    <div id="sc-anticip" class="screen">
        <h2 data-i18n="f5_title">–§–ê–ó–ê 5: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–≤–∞—Ç</h2>
        <p data-i18n="f5_desc">–ö–ª–∏–∫–Ω–∏, –∫–æ–≥–¥–∞ –≤–Ω–µ—à–Ω–µ–µ –∫–æ–ª—å—Ü–æ —Å–æ–≤–ø–∞–¥–µ—Ç —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º.</p>
        <div class="test-zone" id="zone-anticip">
            <div id="anti-base" style="width:80px; height:80px; border:2px solid #333; border-radius:50%; position:relative;">
                <div id="anti-ring" style="width:100%; height:100%; border:2px solid var(--accent); border-radius:50%; position:absolute; transform: scale(4);"></div>
            </div>
        </div>
    </div>

    <div id="sc-results" class="screen">
        <h1 data-i18n="results_title">–ë–ò–û–ú–ï–¢–†–ò–ß–ï–°–ö–ò–ô –û–¢–ß–ï–¢</h1>
        <div class="results-summary" id="res-grid"></div>
        <div class="report-box" id="full-report"></div>
        
        <div class="social-links">
                    <a href="https://github.com/Adiru3" target="_blank"><img src="https://img.shields.io/badge/GitHub-Adiru3-181717?style=for-the-badge&logo=github" alt="GitHub"></a>
                    <a href="https://www.youtube.com/@adiruaim" target="_blank"><img src="https://img.shields.io/badge/YouTube-@adiruaim-FF0000?style=for-the-badge&logo=youtube" alt="YouTube"></a>
                    <a href="https://www.tiktok.com/@adiruhs" target="_blank"><img src="https://img.shields.io/badge/TikTok-@adiruhs-000000?style=for-the-badge&logo=tiktok" alt="TikTok"></a>
                    <a href="https://donatello.to/Adiru3" target="_blank"><img src="https://img.shields.io/badge/Support-Donatello-orange?style=for-the-badge" alt="Donate"></a>
                </div>
            </div>

        <button onclick="location.reload()" style="margin-top:20px; background: #30363d; color: white;" data-i18n="reload_btn">–ü–ï–†–ï–ó–ê–ì–†–£–ó–ò–¢–¨ –°–ò–°–¢–ï–ú–£</button>
    </div>
</div>

<script>
    // –í–µ—Å—å JavaScript –æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–∫–∞–∫ –≤ –≤–∞—à–µ–º —Ñ–∞–π–ª–µ)
    const i18n = {
        ru: {
            main_title: "–ü–û–õ–ù–´–ô –ì–ï–ù–ï–¢–ò–ß–ï–°–ö–ò–ô –ê–ù–ê–õ–ò–ó",
            main_desc: "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ç–æ—á–Ω–æ–µ –∏–∑–º–µ—Ä–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –≤–∞—à–µ–π –Ω–µ—Ä–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã. –ë–µ–∑ –∏–≥—Ä–æ–≤–æ–≥–æ –æ–ø—ã—Ç–∞ ‚Äî —Ç–æ–ª—å–∫–æ –±–∏–æ–ª–æ–≥–∏—è.",
            start_btn: "–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç",
            f1_title: "–§–ê–ó–ê 1: –ß–∏—Å—Ç–∞—è —Ä–µ–∞–∫—Ü–∏—è",
            f1_desc: "–ö–ª–∏–∫–∞–π –õ–ö–ú –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ —Å–∏–º–≤–æ–ª–∞.",
            f2_title: "–§–ê–ó–ê 2: –ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è —Å–µ–ª–µ–∫—Ü–∏—è",
            f2_desc: "–ö–ª–∏–∫–∞–π —Ç–æ–ª—å–∫–æ –Ω–∞ –ó–ï–õ–ï–ù–´–ï –æ–±—ä–µ–∫—Ç—ã. –ö—Ä–∞—Å–Ω—ã–µ ‚Äî –∏–≥–Ω–æ—Ä–∏—Ä—É–π.",
            f3_title: "–§–ê–ó–ê 3: –°–µ–Ω—Å–æ–º–æ—Ç–æ—Ä–Ω—ã–π —Ä–∏—Ç–º",
            f3_desc: "–ö–ª–∏–∫–∞–π —Ç–æ—á–Ω–æ –≤ –º–æ–º–µ–Ω—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∫—Ä—É–≥–∞ (–≤ —Ç–∞–∫—Ç).",
            calibration: "–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞: 10 –∫–ª–∏–∫–æ–≤",
            f4_title: "–§–ê–ó–ê 4: –ü–µ—Ä–∏—Ñ–µ—Ä–∏–π–Ω–æ–µ –∑—Ä–µ–Ω–∏–µ",
            f4_desc: "–°–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ü–µ–Ω—Ç—Ä (+) –∏ –∫–ª–∏–∫–∞–π—Ç–µ –ø–æ —Ü–µ–ª—è–º –ø–æ –±–æ–∫–∞–º.",
            f5_title: "–§–ê–ó–ê 5: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–≤–∞—Ç",
            f5_desc: "–ö–ª–∏–∫–Ω–∏, –∫–æ–≥–¥–∞ –≤–Ω–µ—à–Ω–µ–µ –∫–æ–ª—å—Ü–æ —Å–æ–≤–ø–∞–¥–µ—Ç —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º.",
            results_title: "–ë–ò–û–ú–ï–¢–†–ò–ß–ï–°–ö–ò–ô –û–¢–ß–ï–¢",
            reload_btn: "–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–∏—Å—Ç–µ–º—É",
            res_neuro: "–ù–µ–π—Ä–æ-–æ—Ç–∫–ª–∏–∫",
            res_cog: "–ö–æ–≥–Ω–∏—Ç. —à—É–º",
            res_var: "–í–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å",
            res_pot: "–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª",
            report_plus: "–≠–ª–∏—Ç–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å",
            report_plus_desc: "–í–∞—à–∞ –Ω–µ—Ä–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç —Å–∏–≥–Ω–∞–ª—ã –Ω–∞ –ø—Ä–µ–¥–µ–ª–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π.",
            report_minus: "–°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å",
            report_minus_desc: "–ì–µ–Ω—ã –Ω–µ –¥–∞—é—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≤ —Ä–µ–∞–∫—Ü–∏–∏. –°—Ç–∞–≤–∫–∞ –Ω–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ.",
            report_jit_plus: "–ò–¥–µ–∞–ª—å–Ω—ã–π —Ä–∏—Ç–º",
            report_jit_plus_desc: "–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –æ—Ç–¥–∞—á–∏.",
            report_jit_minus: "–í—ã—Å–æ–∫–∏–π –¥–∂–∏—Ç—Ç–µ—Ä",
            report_jit_minus_desc: "–ú–æ—Ç–æ—Ä–Ω–∞—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è Low Sens.",
            rec_title: "–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø",
            rec_reactor: "–í—ã ‚Äî –†–µ–∞–∫—Ç–æ—Ä. –ü–æ–¥—Ö–æ–¥—è—Ç —Ä–æ–ª–∏ —Å–Ω–∞–π–ø–µ—Ä–∞ –∏ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ —Ñ–ª–∏–∫–∏.",
            rec_strat: "–í—ã ‚Äî –°—Ç—Ä–∞—Ç–µ–≥. –í–∞—à–∞ —Å–∏–ª–∞ –≤ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Low Sens."
        },
        uk: {
            main_title: "–ü–û–í–ù–ò–ô –ì–ï–ù–ï–¢–ò–ß–ù–ò–ô –ê–ù–ê–õ–Ü–ó",
            main_desc: "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ç–æ—á–Ω–µ –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π –≤–∞—à–æ—ó –Ω–µ—Ä–≤–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏. –ë–µ–∑ —ñ–≥—Ä–æ–≤–æ–≥–æ –¥–æ—Å–≤—ñ–¥—É ‚Äî —Ç—ñ–ª—å–∫–∏ –±—ñ–æ–ª–æ–≥—ñ—è.",
            start_btn: "–ü–æ—á–∞—Ç–∏ —Ç–µ—Å—Ç",
            f1_title: "–§–ê–ó–ê 1: –ß–∏—Å—Ç–∞ —Ä–µ–∞–∫—Ü—ñ—è",
            f1_desc: "–ö–ª—ñ–∫–∞–π –õ–ö–ú –º–∏—Ç—Ç—î–≤–æ –ø—Ä–∏ –ø–æ—è–≤—ñ —Å–∏–º–≤–æ–ª—É.",
            f2_title: "–§–ê–ó–ê 2: –ö–æ–≥–Ω—ñ—Ç–∏–≤–Ω–∞ —Å–µ–ª–µ–∫—Ü—ñ—è",
            f2_desc: "–ö–ª—ñ–∫–∞–π —Ç—ñ–ª—å–∫–∏ –Ω–∞ –ó–ï–õ–ï–ù–Ü –æ–±'—î–∫—Ç–∏. –ß–µ—Ä–≤–æ–Ω—ñ ‚Äî —ñ–≥–Ω–æ—Ä—É–π.",
            f3_title: "–§–ê–ó–ê 3: –°–µ–Ω—Å–æ–º–æ—Ç–æ—Ä–Ω–∏–π —Ä–∏—Ç–º",
            f3_desc: "–ö–ª—ñ–∫–∞–π —Ç–æ—á–Ω–æ –≤ –º–æ–º–µ–Ω—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è –∫–æ–ª–∞ (–≤ —Ç–∞–∫—Ç).",
            calibration: "–ö–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è: 10 –∫–ª—ñ–∫—ñ–≤",
            f4_title: "–§–ê–ó–ê 4: –ü–µ—Ä–∏—Ñ–µ—Ä–∏—á–Ω–∏–π –∑—ñ—Ä",
            f4_desc: "–î–∏–≤—ñ—Ç—å—Å—è –≤ —Ü–µ–Ω—Ç—Ä (+) —ñ –∫–ª—ñ–∫–∞–π—Ç–µ –ø–æ —Ü—ñ–ª—è—Ö –∑ –±–æ–∫—ñ–≤.",
            f5_title: "–§–ê–ó–ê 5: –î–∏–Ω–∞–º—ñ—á–Ω–µ –ø–µ—Ä–µ—Ö–æ–ø–ª–µ–Ω–Ω—è",
            f5_desc: "–ö–ª—ñ–∫–Ω–∏, –∫–æ–ª–∏ –∑–æ–≤–Ω—ñ—à–Ω—î –∫—ñ–ª—å—Ü–µ –∑–±—ñ–≥–∞—î—Ç—å—Å—è –∑ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–º.",
            results_title: "–ë–Ü–û–ú–ï–¢–†–ò–ß–ù–ò–ô –ó–í–Ü–¢",
            reload_btn: "–ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É",
            res_neuro: "–ù–µ–π—Ä–æ-–≤—ñ–¥–≥—É–∫",
            res_cog: "–ö–æ–≥–Ω—ñ—Ç. —à—É–º",
            res_var: "–í–∞—Ä—ñ–∞—Ç–∏–≤–Ω—ñ—Å—Ç—å",
            res_pot: "–ü–æ—Ç–µ–Ω—Ü—ñ–∞–ª",
            report_plus: "–ï–ª—ñ—Ç–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å",
            report_plus_desc: "–í–∞—à–∞ –Ω–µ—Ä–≤–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–¥–∞—î —Å–∏–≥–Ω–∞–ª–∏ –Ω–∞ –º–µ–∂—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π.",
            report_minus: "–°–µ—Ä–µ–¥–Ω—è —à–≤–∏–¥–∫—ñ—Å—Ç—å",
            report_minus_desc: "–ì–µ–Ω–∏ –Ω–µ –¥–∞—é—Ç—å –ø–µ—Ä–µ–≤–∞–≥–∏ –≤ —Ä–µ–∞–∫—Ü—ñ—ó. –°—Ç–∞–≤–∫–∞ –Ω–∞ –ø–æ–∑–∏—Ü—ñ–æ–Ω—É–≤–∞–Ω–Ω—è.",
            report_jit_plus: "–Ü–¥–µ–∞–ª—å–Ω–∏–π —Ä–∏—Ç–º",
            report_jit_plus_desc: "–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –≤–∞—Ä—ñ–∞—Ç–∏–≤–Ω—ñ—Å—Ç—å. –Ü–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—é –≤—ñ–¥–¥–∞—á—ñ.",
            report_jit_minus: "–í–∏—Å–æ–∫–∏–π –¥–∂–∏—Ç—Ç–µ—Ä",
            report_jit_minus_desc: "–ú–æ—Ç–æ—Ä–Ω–∞ –Ω–µ—Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å. –†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è Low Sens.",
            rec_title: "–†–ï–ö–û–ú–ï–ù–î–ê–¶–Ü–Ø",
            rec_reactor: "–í–∏ ‚Äî –†–µ–∞–∫—Ç–æ—Ä. –ü—ñ–¥—Ö–æ–¥—è—Ç—å —Ä–æ–ª—ñ —Å–Ω–∞–π–ø–µ—Ä–∞ —Ç–∞ –∞–≥—Ä–µ—Å–∏–≤–Ω—ñ —Ñ–ª—ñ–∫–∏.",
            rec_strat: "–í–∏ ‚Äî –°—Ç—Ä–∞—Ç–µ–≥. –í–∞—à–∞ —Å–∏–ª–∞ —É —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Low Sens."
        },
        en: {
            main_title: "FULL GENETIC ANALYSIS",
            main_desc: "High-precision measurement of your nervous system capabilities. Pure biology, no gaming experience required.",
            start_btn: "Start Test",
            f1_title: "PHASE 1: Raw Reaction",
            f1_desc: "Click LMB instantly when the symbol appears.",
            f2_title: "PHASE 2: Cognitive Selection",
            f2_desc: "Click only GREEN objects. Ignore red ones.",
            f3_title: "PHASE 3: Sensorimotor Rhythm",
            f3_desc: "Click exactly at the moment of maximum circle expansion.",
            calibration: "Calibration: 10 clicks",
            f4_title: "PHASE 4: Peripheral Vision",
            f4_desc: "Look at the center (+) and click targets on the sides.",
            f5_title: "PHASE 5: Dynamic Intercept",
            f5_desc: "Click when the outer ring matches the inner one.",
            results_title: "BIOMETRIC REPORT",
            reload_btn: "Reload System",
            res_neuro: "Neuro-Response",
            res_cog: "Cognitive Noise",
            res_var: "Variability",
            res_pot: "Potential",
            report_plus: "Elite Speed",
            report_plus_desc: "Your nervous system transmits signals at the human limit.",
            report_minus: "Average Speed",
            report_minus_desc: "Genes don't provide a reaction edge. Focus on positioning.",
            report_jit_plus: "Perfect Rhythm",
            report_jit_plus_desc: "Minimal variability. Ideal for recoil control.",
            report_jit_minus: "High Jitter",
            report_jit_minus_desc: "Motor instability. Low Sens recommended.",
            rec_title: "RECOMMENDATION",
            rec_reactor: "You are a Reactor. Sniper roles and aggressive flicks suit you.",
            rec_strat: "You are a Strategist. Stability is your strength. Use Low Sens."
        },
        tr: {
            main_title: "TAM GENETƒ∞K ANALƒ∞Z",
            main_desc: "Sinir sisteminizin kapasitesinin y√ºksek hassasiyetli √∂l√ß√ºm√º. Oyun deneyimi gerekmez, sadece biyoloji.",
            start_btn: "Teste Ba≈üla",
            f1_title: "FAZ 1: Saf Reaksiyon",
            f1_desc: "Sembol g√∂r√ºnd√ºƒü√ºnde anƒ±nda Sol Tƒ±k yapƒ±n.",
            f2_title: "FAZ 2: Bili≈üsel Se√ßim",
            f2_desc: "Sadece YE≈ûƒ∞L nesnelere tƒ±klayƒ±n. Kƒ±rmƒ±zƒ±larƒ± g√∂rmezden gelin.",
            f3_title: "FAZ 3: Sens√∂rimotor Ritim",
            f3_desc: "Dairenin en geni≈ü olduƒüu anda (ritme g√∂re) tƒ±klayƒ±n.",
            calibration: "Kalibrasyon: 10 tƒ±k",
            f4_title: "FAZ 4: Periferik G√∂r√º≈ü",
            f4_desc: "Merkeze (+) bakƒ±n ve yanlarda √ßƒ±kan hedeflere tƒ±klayƒ±n.",
            f5_title: "FAZ 5: Dinamik M√ºdahale",
            f5_desc: "Dƒ±≈ü halka i√ß halka ile e≈üle≈ütiƒüinde tƒ±klayƒ±n.",
            results_title: "Bƒ∞YOMETRƒ∞K RAPOR",
            reload_btn: "Sistemi Yeniden Ba≈ülat",
            res_neuro: "N√∂ro-Yanƒ±t",
            res_cog: "Bili≈üsel G√ºr√ºlt√º",
            res_var: "Deƒüi≈ükenlik",
            res_pot: "Potansiyel",
            report_plus: "Elit Hƒ±z",
            report_plus_desc: "Sinir sisteminiz sinyalleri insan sƒ±nƒ±rƒ±nda iletiyor.",
            report_minus: "Ortalama Hƒ±z",
            report_minus_desc: "Genler reaksiyon avantajƒ± saƒülamƒ±yor. Pozisyon almaya odaklanƒ±n.",
            report_jit_plus: "M√ºkemmel Ritim",
            report_jit_plus_desc: "Minimum deƒüi≈ükenlik. Geri tepme kontrol√º i√ßin ideal.",
            report_jit_minus: "Y√ºksek Titreme",
            report_jit_minus_desc: "Motor dengesizliƒüi. D√º≈ü√ºk Hassasiyet (Low Sens) √∂nerilir.",
            rec_title: "√ñNERƒ∞",
            rec_reactor: "Siz bir Reakt√∂rs√ºn√ºz. Keskin ni≈üancƒ± rolleri ve agresif vuru≈ülar size uygun.",
            rec_strat: "Siz bir Stratejistsiniz. G√ºc√ºn√ºz istikrarda. Low Sens kullanƒ±n."
        }
    };

    let currentLang = 'ru';

    function changeLang(lang) {
        currentLang = lang;
        document.querySelectorAll('[data-i18n]').forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (i18n[lang][key]) el.innerText = i18n[lang][key];
        });
    }

    const state = { step: 0, reflex: [], cog: [], jitter: [], peripheral: [], anticip: [] };

    function nextStep(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById('sc-' + id).classList.add('active');
        state.step++;
        updateProgress();
        if(window[id + 'Start']) window[id + 'Start']();
    }

    function updateProgress() {
        document.getElementById('progress-bar').style.width = (state.step / 6 * 100) + '%';
    }

    function reflexStart() {
        const zone = document.getElementById('zone-reflex');
        const target = document.getElementById('reflex-target');
        target.innerText = "";
        setTimeout(() => {
            target.innerText = "‚óà";
            const start = performance.now();
            zone.onmousedown = () => {
                state.reflex.push(performance.now() - start);
                zone.onmousedown = null;
                if(state.reflex.length < 5) reflexStart(); else nextStep('cog');
            };
        }, 1200 + Math.random() * 2000);
    }

    function cogStart() {
        const zone = document.getElementById('zone-cog');
        const target = document.getElementById('cog-target');
        target.innerText = "";
        setTimeout(() => {
            const isGreen = Math.random() > 0.4;
            target.innerText = "‚ñ†";
            target.style.color = isGreen ? "var(--green)" : "var(--red)";
            const start = performance.now();
            zone.onmousedown = () => {
                zone.onmousedown = null;
                if(isGreen) {
                    state.cog.push(performance.now() - start);
                    if(state.cog.length < 5) cogStart(); else nextStep('jitter');
                } else {
                    state.cog.push(700); 
                    cogStart();
                }
            };
            if(!isGreen) setTimeout(() => { if(zone.onmousedown) { zone.onmousedown = null; cogStart(); } }, 750);
        }, 1000 + Math.random() * 1500);
    }

    function jitterStart() {
        const pulsar = document.getElementById('pulsar');
        const zone = document.getElementById('zone-jitter');
        const counter = document.getElementById('jitter-count');
        pulsar.classList.add('pulse-active');
        let clicks = 0;
        zone.onmousedown = () => {
            const now = performance.now();
            const offset = (now % 600);
            state.jitter.push(Math.abs(offset - 300));
            clicks++;
            counter.innerText = `${i18n[currentLang].calibration.split(':')[0]}: ${10 - clicks}`;
            if(clicks >= 10) { pulsar.classList.remove('pulse-active'); zone.onmousedown = null; nextStep('peripheral'); }
        };
    }

    function peripheralStart() {
        const container = document.getElementById('peri-target-container');
        container.innerHTML = "";
        setTimeout(() => {
            const target = document.createElement('div');
            target.className = "peripheral-target";
            const side = Math.random() > 0.5 ? 'left' : 'right';
            target.style[side] = "50px";
            target.style.top = (Math.random() * 250 + 50) + "px";
            const start = performance.now();
            target.onmousedown = (e) => {
                e.stopPropagation();
                state.peripheral.push(performance.now() - start);
                if(state.peripheral.length < 4) peripheralStart(); else nextStep('anticip');
            };
            container.appendChild(target);
        }, 1000 + Math.random() * 1500);
    }

    function anticipStart() {
        const ring = document.getElementById('anti-ring');
        const zone = document.getElementById('zone-anticip');
        let scale = 4, active = true;
        const anim = setInterval(() => {
            scale -= 0.04;
            ring.style.transform = `scale(${scale})`;
            if(scale <= 0) { clearInterval(anim); if(active) anticipStart(); }
        }, 16);
        zone.onmousedown = () => {
            active = false; clearInterval(anim);
            state.anticip.push(Math.abs(scale - 1) * 100);
            if(state.anticip.length < 4) anticipStart(); else showFinal();
        };
    }

    function showFinal() {
        nextStep('results');
        const avgRef = Math.round(state.reflex.reduce((a,b)=>a+b)/state.reflex.length);
        const avgCog = Math.round(state.cog.reduce((a,b)=>a+b)/state.cog.length);
        const avgJit = Math.round(state.jitter.reduce((a,b)=>a+b)/state.jitter.length);
        const score = Math.max(0, 100 - ((avgRef - 160)/2 + avgJit/2 + (avgCog-avgRef)/2));

        const L = i18n[currentLang];
        document.getElementById('res-grid').innerHTML = `
            <div class="res-card"><h4>${L.res_neuro}</h4><p>${avgRef}ms</p></div>
            <div class="res-card"><h4>${L.res_cog}</h4><p>${avgCog - avgRef}ms</p></div>
            <div class="res-card"><h4>${L.res_var}</h4><p>${avgJit}ms</p></div>
            <div class="res-card"><h4>${L.res_pot}</h4><p>${Math.round(score)}%</p></div>
        `;

        let report = `<h3>${L.results_title}</h3>`;
        if(avgRef < 180) report += `<b class="p-plus">[+] ${L.report_plus}:</b> ${L.report_plus_desc}<br>`;
        else report += `<b class="p-minus">[-] ${L.report_minus}:</b> ${L.report_minus_desc}<br>`;

        if(avgJit < 40) report += `<b class="p-plus">[+] ${L.report_jit_plus}:</b> ${L.report_jit_plus_desc}<br>`;
        else report += `<b class="p-minus">[-] ${L.report_jit_minus}:</b> ${L.report_jit_minus_desc}<br>`;

        report += `<br><b>${L.rec_title}:</b><br>${score > 80 ? L.rec_reactor : L.rec_strat}`;
        document.getElementById('full-report').innerHTML = report;
    }
</script>
</body>
</html>